# 日志与注释规范（精简版）

## 1. 日志规范（必须）

### 1.1 工具边界

- 前端业务日志：`src/shared/utils/logger.ts`（`createLogger(scope)`）
- 平台边界日志：`src/shared/tauri/tauriLog.ts`
- Rust 日志：`tracing::*` 宏

### 1.2 格式要求

- 前端：`Action: <snake_case>`，并使用二次分层前缀（如 `chat_`、`network_`、`plugins_`）。
- Rust：必须包含 `action = "..."`，并使用二次分层前缀（如 `app_`、`network_`、`settings_`）。
- 禁止业务代码直接 `console.*`。
- 敏感信息禁止入日志（token/密钥/验证码等）。

### 1.3 守门脚本

- 前端日志：`bash scripts/check-log-standards.sh`
- Rust 日志：`bash scripts/check-rust-standards.sh`
- 词汇表：`docs/日志Action词汇表.md`

### 1.4 级别约定

- `debug`：高频诊断
- `info`：流程节点
- `warn`：可恢复异常/降级
- `error`：需要处理的失败

## 2. 注释规范（必须）

### 2.1 TS/Vue

- 文件级：必须有 `@fileoverview`（或 `@file`）。
- 导出函数/公开方法：结构化 JSDoc（`@param` / `@returns`）。
- 导出常量：结构化 JSDoc（`@constant`）。

### 2.2 Vue 模板与样式

- `<template>` 开头必须有职责注释。
- `<style>` 开头必须有布局/约束注释。

### 2.3 禁止项

- 禁止大段注释掉的历史代码。
- 禁止“重复代码含义”的无效注释。

## 3. 参考文档

- 代码规范总览：`docs/code-conventions.md`
- 嵌入式文档规范：`docs/前端嵌入式文档规范.md`
- Rust 统一标准：`docs/Rust统一标准.md`
