# 文档规范

本文档用于约束本仓库文档的归档、命名与维护方式。

## 1. 目录分层（强制）

- `docs/`：长期规范文档（架构、规范、开发指南、运行说明）。
- `docs/api/`：API 介绍与协议规范。
- `docs/design/`：模块设计文档（PRD、client/plugin/protocol/ADR、UI）。
- `docs/tmp/`：临时文档（待办、过渡方案、矩阵、归档草稿）。

## 2. 命名规范（强制）

### 2.1 入口文件

- 每个文档目录入口统一命名为 `README.md`。
- 禁止新增 `文档索引.md` 作为目录入口文件名。

### 2.2 文件命名

- 长期规范文档（`docs/` 根目录）可使用中文主题名，要求语义清晰。
- 临时文档（`docs/tmp/`）统一使用英文 `kebab-case`，例如：
  - `improvement-notes.md`
  - `prd-api-migration-matrix-v1.1-v1.0.md`
- API 文档（`docs/api/`）统一使用：`NN-topic-vX.md`，例如：
  - `10-http-ws-protocol-v1.md`
  - `13-error-model-and-reasons-v1.md`
- 设计子目录（`docs/design/*`）新增文档优先 `kebab-case` 或稳定缩写命名，避免中英文混排随意命名。

### 2.3 路径引用

- 文档链接优先使用仓库绝对相对路径（如 `docs/design/README.md`）。
- 同一规则保持单一真源，其他文档只引用链接，不复制定义。

## 3. 冗余清理规则（强制）

- 失效方案不留在主设计路径，统一迁移到 `docs/tmp/archive-*`。
- 归档目录仅保留“摘要 + 结论 + 去向链接”，不保留大体量重复规格。
- 临时文档完成沉淀后，必须迁移到 `docs/`、`docs/design/` 或 `docs/api/`。

## 4. 文档模板（建议）

1. 背景与目标
2. 适用范围
3. 核心约定/结论
4. 使用或落地方式
5. 变更记录
6. 相关链接

## 5. 更新要求

- 影响架构/协议/插件契约的改动，必须同步更新对应文档。
- PR 涉及文档迁移或重命名时，必须同步修复引用路径。
