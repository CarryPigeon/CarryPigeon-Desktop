# 方案 A｜Modular Patchbay（模块化插线板）UI 设计规格索引

版本：v1.0  
日期：2026-01-31  
适用范围：CarryPigeon Desktop（Tauri + Vue 3 + tdesign-vue-next）

> 目标：不依赖“传统聊天 UI”套路，把产品的三件事做成直觉：  
> 1) **服务器隔离** = 不同机柜（Rack）  
> 2) **插件生态** = 可插拔模块（Module）  
> 3) **required gate** = 供电锁扣（Power Latch）  
> 同时对齐 PRD（`design/PRD.md`）的 P0 验收：required 阻止登录、未知 domain 降级、硬删除消失、断线弱提示等。

## 快速入口

- 视觉方向与品牌：`./01-视觉方向与品牌.md`
- 设计系统与 Token（颜色/字体/组件密度）：`./02-设计系统与Token.md`
- 信息架构与路由：`./03-信息架构与路由.md`
- 页面规格：登录与连接：`./04-页面规格-登录与连接.md`
- 页面规格：聊天与消息渲染：`./05-页面规格-聊天与消息渲染.md`
- 页面规格：插件中心与必需插件门禁：`./06-页面规格-插件中心与必需插件门禁.md`
- 组件库规格（Patchbay 组件）：`./07-组件库规格.md`
- 动效与交互细节：`./08-动效与交互细节.md`
- 前端实现清单（落地到现有工程的具体项）：`./09-前端实现清单.md`
- 页面组件树（组件/Props/事件/Store 依赖）：`./10-页面组件树.md`
- 状态机与错误码映射（P0 必备）：`./11-状态机与错误码映射.md`
- i18n 与文案清单（zh/en 建议文案）：`./12-i18n与文案清单.md`
- 数据模型与契约（TS 接口 + UI 约束）：`./13-数据模型与契约.md`
- 样式落地参考（可直接拷贝的 CSS Token/组件样式骨架）：`./14-样式落地参考.md`
- 键盘与无障碍（桌面效率 + A11y）：`./15-键盘与无障碍.md`

## ASCII 线框（便于评审）

- 主窗口信息架构：`./ascii/01-主窗口.txt`
- 登录页（含 required gate 分支）：`./ascii/02-登录页.txt`
- 插件中心（列表 + 详情 + 进度）：`./ascii/03-插件中心.txt`
- 必需插件向导：`./ascii/04-必需插件向导.txt`
- 未知 domain 消息降级卡：`./ascii/05-未知Domain降级卡.txt`
- Composer Host：`./ascii/06-ComposerHost.txt`
- 插件详情抽屉：`./ascii/07-插件详情抽屉.txt`
- 连接状态条：`./ascii/08-连接状态条.txt`

## 相关源文档

- PRD：`../../../design/PRD.md`
- 插件中心流程（状态机）：`../../../design/client/PLUGIN-CENTER-FLOWS.md`
- 插件目录与 required 错误：`../../../design/protocol/PLUGIN-CATALOG-AND-ERRORS.md`
- 插件 Composer UI 规范：`../../../design/plugin/PLUGIN-COMPOSER-UI.md`
