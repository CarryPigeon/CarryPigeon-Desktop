# 07｜组件库规格（Patchbay Components）

版本：v1.0  
日期：2026-01-31

## 1. 基础组件（可全局复用）

- `ConnectionPill`
  - Props：`state: connected|reconnecting|offline`、`detail?`、`onRetry?`
  - UI：LED 点 + 文案 + 可选按钮
- `LabelBadge`
  - Variants：`required|failed|update|domain|info`
  - 规则：必须文字 + 形状，不只靠颜色
- `MonoTag`
  - 用于 socket/plugin_id/domain_version 显示，可一键复制

## 2. Patchbay 专属组件

- `RackItem`
  - 服务器条目：名称/头像/LED/当前选中
- `PatchPanelHeader`
  - 当前服务器的“面板头”：server_name、socket、required 状态、入口按钮（plugins/settings）
- `PortListItem`
  - 频道/成员列表条目：左侧端口色点（可按频道/权限/状态）
- `SignalStrip`
  - 消息左侧 2px domain 色条（统一渲染）

## 3. 插件中心组件

- `ModuleCard`
  - 显示 provides domains（端口）
  - 状态：installed/enabled/failed/update/required
- `ModuleDetailDrawer`
  - permissions（diff 高亮）、source+sha256、contracts/domains、lastError、版本切换
- `ModuleProgress`
  - 映射状态机：install/update/enable

## 4. 聊天输入（Composer Host）

- `ComposerHost`
  - 左：DomainSelector
  - 中：Slot（Core Text / 插件 composer）
  - 上：ReplyBar
  - 右：SendButton + 状态
  - 对接 `design/plugin/PLUGIN-COMPOSER-UI.md` 的 `submit/cancel/dirty-change`

