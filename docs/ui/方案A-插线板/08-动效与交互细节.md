# 08｜动效与交互细节（Patchbay）

版本：v1.0  
日期：2026-01-31

## 1. 动效原则

- 只在“关键节点”发力：连接状态变化、模块安装/启用、required 阻止、消息到达。
- 不要到处小动效；保证输入与滚动性能优先。
- `prefers-reduced-motion` 必须尊重。

## 2. 高价值动效清单

### 2.1 连接 LED

- connected：常亮绿（`--cp-accent`）
- reconnecting：琥珀呼吸（`--cp-warn`）
- offline：红色慢闪（`--cp-danger`）

### 2.2 模块插入（Install）

- downloading：线缆颜色从灰变亮（进度条）
- verifying：短促“扫描线”从左到右
- unpacking：模块面板轻微上移 + 端口逐个亮起（stagger）

### 2.3 required 锁扣

- 未满足时：顶部锁扣条轻微抖动（一次）+ 红色边框提示（持续）
- 满足瞬间：锁扣“啪嗒”闭合动画（一次）+ 成功提示

## 3. 交互细节（桌面效率）

- 全局 `Ctrl/Cmd+K`：打开 Quick Switcher（服务器/频道/插件）
- `Esc`：关闭所有浮层（菜单/抽屉/Modal/Popover）
- 消息区：
  - 右键：打开菜单
  - `R`：回复（可选快捷键）
  - `Del`：删除（受权限控制，需二次确认）

