# ADR-0004：插件仅发布构建产物（禁止编译前源文件）

日期：2026-01-31  
状态：Accepted

## 背景
为降低宿主复杂度、减少跨端差异，并简化插件加载与调试成本，决定插件包不再包含编译前源文件（例如 `.vue`、`.ts`）。

## 决策
- 插件包必须发布构建产物：ESM `*.js` + 静态资源。
- 插件包不得包含编译前源文件/需二次编译的文件：`.vue`、`.ts`、`*.scss` 等。
- 宿主不进行二次编译（`.vue`/TS/样式预处理等）；插件安装后必须可直接执行。

## 影响
- 插件作者需要在发布前完成构建（Vue SFC 编译、TS 转译、依赖打包）。
- 宿主的插件加载链路更简单：仅需 ESM import + 资源加载，不需 SFC/TS 编译管线。
