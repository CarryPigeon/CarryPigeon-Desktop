# 03｜信息架构与路由（Patchbay IA）

版本：v1.0  
日期：2026-01-31

## 1. 主窗口信息架构（不改业务，只换表达）

四栏结构依然成立，但“栏”的语义更明确：

- Server Rail：机柜列表（Rack）+ 连接 LED + 管理菜单
- Channel Rail：当前机柜的“Patch Panel Header”+ 频道端口列表
- Center：顶部控制台（Search + Connection Pill）+ 消息流 + Composer Host
- Members Rail：成员端口列表（可右键“插入命令/提及”）

## 2. 路由建议（稳定可引用）

在现有路由基础上，补齐 PRD 必需页面：

- `/required-setup`：required 安装向导（解释 + checklist + 跳转插件中心）
- `/plugins`：插件中心（列表视图）
- `/plugins/detail/:pluginId`：插件详情（权限、来源、sha256、错误、版本切换）

Popovers/Info windows 继续保持子窗口路由模式（现有 `src/main.ts` 的 query 路由分发）。

## 3. Gate 规则（UI 行为）

required 缺失：
- 允许：连接/握手、获取目录、下载/安装/启用插件
- 禁止：登录相关动作（PRD 5.6）

UI 表现：
- 登录页遇到 `reason="required_plugin_missing"`：直接进入 `/required-setup`（不展示“握手失败”类泛化错误）。

